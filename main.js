(()=>{"use strict";const t=function*(t,e){for(const o of t??[])yield e(o)},e=function*(t,e=Boolean){for(const o of t??[])e(o)&&(yield o)},o=(t,e=document.body)=>[...e.querySelectorAll(t)],s=t=>(e={},...o)=>{const s=e.txt?{...e,textContent:e.txt}:e,{style:a={},dataset:n={},...r}=s,i=o.filter((t=>t)),c=(l=void 0,()=>{if(l)return l;const e=l=document.createElement(t);return Object.entries(r).forEach((([t,o])=>e[t]=o)),Object.entries(a).forEach((([t,o])=>e.style[t]=o)),Object.entries(n).forEach((([t,o])=>e.dataset[t]=o)),i.forEach((t=>e.append(t()))),e});var l;return Object.assign(c,{tagName:t,props:s,children:i})},a=(t,e)=>{((t,e)=>{const o=t(),{style:s={},dataset:a={},...n}=t.props,{style:r={},dataset:i={},...c}=e.props;Object.entries(n).forEach((([t])=>void 0===c[t]&&(o[t]=void 0))),Object.entries(c).forEach((([t,e])=>n[t]!==e&&(o[t]=e))),Object.entries(s).forEach((([t])=>void 0===r[t]&&o.style.removeProperty(t))),Object.entries(r).forEach((([t,e])=>s[t]!==e&&(o.style[t]=e))),Object.entries(a).forEach((([t])=>void 0===i[t]&&Reflect.deleteProperty(o.dataset,t))),Object.entries(i).forEach((([t,e])=>a[t]!==e&&(o.dataset[t]=e)))})(t,e);const o=t(),s=(n=t.children,r=e.children,[...Array(Math.max(n.length,r.length)).keys()].map(((t,e)=>[n[e],r[e]]))).map((([t,e])=>t&&!e?t().remove():!t&&e?(o.append(e()),e):t.tagName!==e.tagName?(t().replaceWith(e()),e):a(t,e))).filter((t=>t));var n,r;return Object.assign(t,{props:e.props,children:s})},n=(t,e={},...o)=>Object.assign((()=>t),{tagName:t.tagName,props:e,children:o.filter((t=>t))}),r=(...e)=>{return o=function*(){for(const t of e)if("string"==typeof t)yield t;else for(const[e,o]of Object.entries(t))o&&(yield e)}(),[t(o,String)].join(" ");var o},i=s("a"),c=(s("abbr"),s("acronym"),s("address"),s("applet"),s("area"),s("article"),s("aside"),s("audio"),s("b")),l=(s("base"),s("basefont"),s("bdi"),s("bdo"),s("bgsound"),s("big"),s("blink"),s("blockquote"),s("body"),s("br"),s("button")),d=(s("canvas"),s("caption"),s("center"),s("cite"),s("code"),s("col"),s("colgroup"),s("command"),s("content"),s("data"),s("datalist"),s("dd"),s("del"),s("details"),s("dfn"),s("dialog"),s("dir"),s("div")),m=(s("dl"),s("dt"),s("element"),s("em"),s("embed"),s("fieldset"),s("figcaption"),s("figure"),s("font"),s("footer")),u=(s("form"),s("frame"),s("frameset"),s("h1")),p=s("h2"),g=(s("h3"),s("h4")),h=(s("h5"),s("h6"),s("head"),s("header")),f=(s("hgroup"),s("hr")),b=(s("html"),s("i")),x=(s("iframe"),s("image"),s("img")),w=s("input"),y=(s("ins"),s("isindex"),s("kbd"),s("keygen"),s("label")),v=(s("legend"),s("li")),N=(s("link"),s("listing"),s("main")),_=(s("map"),s("mark"),s("marquee"),s("menu"),s("menuitem"),s("meta"),s("meter"),s("multicol"),s("nav"),s("nextid"),s("nobr"),s("noembed"),s("noframes"),s("noscript"),s("object"),s("ol")),k=(s("optgroup"),s("option"),s("output")),j=s("p"),E=(s("param"),s("picture"),s("plaintext"),s("pre"),s("progress"),s("q"),s("rb"),s("rp"),s("rt"),s("rtc"),s("ruby"),s("s"),s("samp"),s("script"),s("section")),O=(s("select"),s("shadow"),s("slot"),s("small"),s("source"),s("spacer"),s("span")),q=s("strike"),M=(s("strong"),s("style"),s("sub"),s("summary"),s("sup"),s("table"),s("tbody"),s("td"),s("template"),s("textarea"),s("tfoot"),s("th"),s("thead"),s("time"),s("title"),s("tr"),s("track"),s("tt"),s("u"),s("ul")),[S,D]=(s("video"),s("wbr"),s("xmp"),[1,100]),$=({todo_sections:e,viewing:o,items:s,on_new_bench:a,onrandom:n,oninput:m,ontoggle:h,onremove:$,onselect:P,still_todo_count:R})=>N({className:r("d-grid","row-gap-8")},(({})=>E({id:"readme",className:r("lightly-bordered")},d({id:"readme-header",className:r("px-6","py-1")},g({className:"mp-0"},b({className:"fas fa-book"}),O({txt:" README.md"}))),d({id:"readme-body",className:r("px-6","pt-1")},u({},i({href:"https://ms-jpq.github.io/noact"},q({txt:"Re"}),O({txt:"Noact"}))),f(),j({txt:"Noact is a minimal self-rendering Virtual DOM library."}),M({},v({},c({txt:"Declarative:"}),O({txt:"Pretty much like React, without the JSX compilation of course, hence the name."})),v({},c({txt:"Type safe:"}),O({txt:"Noact is completely typesafe, which means you get"}),i({txt:"static type checking",href:"https://github.com/ms-jpq/Noact/blob/noact/_assets/auto_complete.gif"}),O({txt:"for free!"})),v({},c({txt:"Simple:"}),i({txt:"Only 60 lines",href:"https://github.com/ms-jpq/Noact/blob/noact/src/noact.ts"}),O({txt:"of type declarations & rendering code. (and 10ish lines of code-gen code)"}))),f(),p({txt:"How it feels to write Noact"}),x({className:"img-responsive",src:"https://raw.githubusercontent.com/ms-jpq/Noact/noact/_assets/demo.gif"}),j({},c({txt:"- Explosions -"})),j({},O({txt:"Even has support for"}),c({txt:"style auto complete"})),x({className:"img-responsive",src:"https://raw.githubusercontent.com/ms-jpq/Noact/noact/_assets/type_demo.png"}),f(),p({txt:"Source code"}),M({},v({},i({txt:"Rendering Engine",href:"https://github.com/ms-jpq/noact/tree/noact/src"})),v({},i({txt:"This Page",href:"https://github.com/ms-jpq/noact/tree/noact/example"}))))))({}),(({on_new_bench:t,onrandom:e,todo_sections:o})=>{const s="benchmark-input-input";return E({id:"benchmark-control",className:r("d-grid","ai-centre","jc-space-between","lightly-bordered","px-6","py-2","row-gap-1","col-gap-4")},p({id:"benchmark-title",txt:"Benchmark"}),d({id:"benchmark-input",className:r("d-flex","ai-baseline","flex-wrap")},y({htmlFor:s,txt:`Put in ${S}-${D}:`}),d({className:r("input-group","d-flex","flex-grow-1")},w({id:s,type:"number",className:r("flex-grow-1","text-right"),min:String(S),max:String(D),value:String(o),onchange:({target:e})=>{const{value:o}=e;t(parseInt(o))}}),l({className:r("clickable","border-thin","flex-shrink-1"),txt:"Random",onclick:e}))),(({})=>k({className:"benchmark-output"}))({}))})({todo_sections:e,on_new_bench:a,onrandom:n}),...t(((t,e,o=1)=>Object.freeze({*[Symbol.iterator](){const s=e??t;let a=void 0===e?0:t;const n=o>0?(t,e)=>t<e:(t,e)=>t>e;for(;n(a,s);)yield a,a+=o}}))(1,e),(a=>(({oninput:e,onselect:o,ontoggle:s,onremove:a,viewing:n,items:i,idx:c,todo_sections:m,still_todo_count:u})=>E({className:r("todo","lightly-bordered")},d({className:r("todo-header","d-grid","grid-col","jc-space-between","ai-baseline","px-6")},p({className:r("todo-title","mb-0"),txt:"TODO"}),j({className:r("todo-meta","text-right"),txt:`${c} of ${m} synchronized`})),(({oninput:t,idx:e})=>{const o=`todo-input-${e}`;return d({className:r("todo-input","px-6","lab-inp-btn")},y({htmlFor:o,txt:"I need to:"}),d({className:r("input-group","d-flex","flex-row")},w({id:o,className:"flex-grow-1",placeholder:"...",onchange:({target:e})=>{const o=e,{value:s}=o;""!==(s??"")&&t(s),o.value=""}}),l({className:r("clickable","flex-shrink-1")},b({className:"fas fa-reply"}))))})({oninput:e,idx:c}),(({onselect:t,viewing:e})=>d({className:r("todo-select","px-6","mt-4")},l({className:r({active:"todo"===e}),onclick:()=>t("todo")},g({txt:"Remaining"})),l({className:r({active:"done"===e}),onclick:()=>t("done")},g({txt:"Done"})),l({className:r({active:"all"===e}),onclick:()=>t("all")},g({txt:"Showall"}))))({onselect:o,viewing:n}),(({ontoggle:e,onremove:o,items:s})=>d({className:r("todo-listing","px-6")},_({},...t(s,(t=>v({className:r("d-grid","grid-col","ac-baseline","ji-start","border-top-solid","border-thin","pt-4","py-1")},d({className:r("todo-message","clickable"),onclick:()=>e(t)},b({className:r("clickable","todo"===t.status?"far fa-check-square":"fas fa-check-square")}),O({txt:t.message})),l({className:r("clickable","border-clear","js-end","font-w900"),txt:"Ã—",onclick:()=>o(t)})))))))({ontoggle:s,onremove:a,items:i}),j({className:r("todo-info","px-6","my-1"),txt:`${u} items left`})))({idx:a,viewing:o,items:s,oninput:m,onremove:$,onselect:P,ontoggle:h,todo_sections:e,still_todo_count:R})))),P=({})=>m({},j({className:"text-centre"},O({txt:"Â© "}),i({txt:"ms-jpq",href:"https://ms-jpq.github.io"}))),R=({})=>h({className:r("d-grid","text-centre","ji-centre","lightly-bordered","py-8")},u({className:"font-w500",txt:"This Page is Rendered Using Noact"})),T=(t=>()=>t++)(0),A=(t=>{let e=n(t);return(...o)=>e=a(e,n(t,{},...o))})(document.body),B=t=>{switch(t){case"todo":return 1;case"done":return 2;default:throw new Error("invaild status")}},C=t=>{return e=t,o=t=>[B(t.status),t.last_update],[...e].sort(((t,e)=>{const s=function*(...t){const e=function*(t,e){for(const o of t??[]){const t=e(o);void 0!==t&&(yield t)}}(t,(t=>t?.[Symbol.iterator]()));for(;;){const t=new Array;for(const o of e){const{done:e,value:s}=o.next();if(e)return;t.push(s)}yield t}}(o(t),o(e));for(const[t,e]of s){const o=typeof t,s=typeof e;if(o!==s)throw new TypeError(`${o} <> ${s}`);if("string"===o)return t.localeCompare(e);{const o=t-e;if(o)return o}}return 0}));var e,o},z=C([...t((()=>{const t=[{message:"Printer ran out of juice again",status:"todo"},{message:"Something about neighbour's cat",status:"todo"},{message:"Go to bed before 1AM",status:"todo"},{message:"Craig owes me money?",status:"todo"},{message:"ðŸ‘‹Hire meðŸ‘‹",status:"todo"},{message:"Draw a prefect circle",status:"todo"},{message:"Take out trash",status:"done"},{message:"Ask Jenny for penny",status:"done"},{message:"Get groceries",status:"done"},{message:"Download Mob Psycho",status:"done"}];for(let e=t.length-1;e>0;e--){const o=Math.floor(Math.random()*(e+1));[t[e],t[o]]=[t[o],t[e]]}return t})(),(t=>({...t,id:T(),last_update:T()})))]),F={todo_sections:1,viewing:{view:"todo",last_update:Date.now()},items:z},G=t=>{switch(t){case"todo":return"done";case"done":return"todo";default:throw new Error("invalid status")}},H=async t=>{const e=(()=>{let t=performance.now();return()=>{const e=t;return(t=performance.now())-e}})();var s;t(),await(s=0,new Promise((t=>setTimeout(t,s))));const a=Math.round(e()),n=o("*").length,r=o(".benchmark-output");for(const t of r)t.value=`rendered ${n} elements in ${a}ms`},I=({todo_sections:o,viewing:s,items:a})=>{const n=((t,e=Boolean)=>((t,e,o)=>{for(const s of e??[])t=o(t,s);return t})(0,t,((t,o)=>t+e(o))))(a,(t=>"todo"===t.status)),i={todo_sections:o,viewing:s.view,items:a,onrandom:()=>{return I({items:a,viewing:s,todo_sections:(t=S,e=D,Math.floor(Math.random()*(e-t+1))+t)});var t,e},on_new_bench:t=>{const e=Math.min(D,Math.max(S,t));I({todo_sections:e,items:a,viewing:s})},oninput:t=>{const e={status:"todo",id:T(),last_update:Date.now(),message:t},n=[...a,e];I({todo_sections:o,items:n,viewing:s})},ontoggle:e=>{const n=[...t(a,(t=>({...t,status:t.id===e.id?G(t.status):t.status,last_update:t.id===e.id?Date.now():t.last_update})))];I({todo_sections:o,items:n,viewing:s})},onremove:t=>{const n=[...e(a,(e=>e.id!==t.id))];I({todo_sections:o,items:n,viewing:s})},onselect:t=>{t!==s.view&&I({todo_sections:o,items:C(a),viewing:{view:t,last_update:Date.now()}})},still_todo_count:n},c={last_view_update:s.last_update,header:{},body:i,footer:{}};H((()=>A((({last_view_update:t,header:o,body:s,footer:a})=>{const n=[...e(s.items,(e=>((t,e,o)=>{switch(t){case"all":return!0;case"todo":return o.last_update>e||"todo"===o.status;case"done":return o.last_update>e||"done"===o.status}})(s.viewing,t,e)))];return d({id:"container",className:r("d-grid","mx-auto","mt-12","row-gap-12")},R(o),$({...s,items:n}),P(a))})(c))))};I(F)})();